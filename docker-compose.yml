version: '3'
services:
  son-mongo:
    image: mongo
    container_name: son-mongo
    ports:
        - 27017:27017
    restart: always
  tng-analytics-engine:
    build:
     context: .
     dockerfile: Dockerfile
    container_name:  tng-analytics-engine 
    ports:
      - "8082:8082"
    depends_on:
      - son-mongo
      - analyticserver
    restart: always
  analyticserver:
    build:
     context: .
     dockerfile: analyticserver/Dockerfile
    container_name: analyticserver
    ports:
      - "80:80"
    restart: always

